---
title: 集約とコンポジション
tags: [uml]
---

https://martinfowler.com/bliki/AggregationAndComposition.html

集約とコンポジションほど困惑するUML図はありません。通常の関連との違いは、特に難しいものです。

歴史の中でごちゃごちゃになっために、こうなってしまったのです。
UML以前の方法論には、部分−全体の関係を示す一般的な記述方法がありました。
しかし、方法論それぞれが異なる意味合いを定義したがために、混乱が生じてしまいました（どんなに公平に見ても、意味がまったく無いものも中にはありました）。

標準化の時になり、多くの人が部分−全体の関係を望みましたが、その意味合いについては賛同しませんでした。そういった経緯があり、UML標準化団体は２つの関連を導入することとなりました。

### 集約（白菱形）

集約は一般的な関連以上の意味的はありません。Jim Rumbaughが言うように、モデリングのプラセボ効果と言えるでしょう。使用することに問題ありませんが、標準的な意味合いは一切含まれていません。これを見かけたら、作者がなぜ敢えて用いたのかということを調べたほうがよいでしょう。これを使う際には、できれば何らかの説明を付記したほうがよいと思います。

### コンポジション（黒菱形）

コンポジションには意味があります。
特に、あるオブジェクトがひとつのコンポジションの部分にしかなり得ないことを意味します。
つまり、ウィンドウとパネルがそれぞれメニューバーを持っていたとしても、メニューバーのインスタンスは、どちらかにしか所属しないということです。
これは多重度を簡単に設定できることを制限するというものではありません。
