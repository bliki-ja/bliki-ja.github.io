<!DOCTYPE html>
<html lang="ja">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>ストラングラーフィグアプリケーション - Martin Fowler's Bliki (ja)</title>
  <meta name="description" content="">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://bliki-ja.github.io/StranglerFigApplication">
  <link rel="alternate" type="application/rss+xml" title="Martin Fowler's Bliki (ja)" href="https://bliki-ja.github.io/feed.xml" />
  <link rel="icon" href="/images/favicon.png" type="image/x-icon">
  <script src="https://releases.jquery.com/git/jquery-3.x-git.slim.min.js"></script>
  <script src="/js/jquery.toc.js"></script>
</head>


  <body>

    <header class="site-header">
  <div class="wrapper">
    <a class="site-title" href="/">Martin Fowler's Bliki (ja)</a>
    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        <a class="page-link" href="/tags/">タグ</a>
        <a class="page-link" href="/hot/">人気エントリー</a>
        <a class="page-link" href="/random/">ランダム</a>
        <a class="page-link" href="/pofeaa/">PofEAA</a>
      </div>
    </nav>
  </div>
</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">
  <header class="post-header">
    <h1 class="post-title">ストラングラーフィグアプリケーション</h1>
    <p class="post-meta" style="text-align:right">
      2004-06-29
      
      [<a href="https://martinfowler.com/bliki/StranglerFigApplication.html">オリジナル記事</a>]
      
      [<a href="http://github.com/bliki-ja/bliki-ja.github.io/blob/master/_posts/2004-06-29-StranglerFigApplication.md">翻訳者と原稿</a>]

    <br />tags: 
    <a href="/tags?application%20architecture" style="background-color: #ffc">application architecture</a>
    ,
    <a href="/tags?legacy%20rehab" style="background-color: #ffc">legacy rehab</a>
    
    
    
    </p>
  </header>

  <article class="post-content" id="post-content">
    <!-- When Cindy and I went to Australia, we spent some time in the rain forests on the Queensland coast. One of the natural wonders of this area are the huge strangler figs. 
 !-- They seed in the upper branches of a tree and gradually work their way down the tree 
 !-- 	until they root in the soil. 
 !-- Over many years they grow into fantastic and beautiful shapes, 
 !-- meanwhile strangling and killing the tree that was their host. -->

<p>Cindyとオーストラリアに行ったとき、クイーンズランド州の沿岸にある熱帯雨林でしばらく時間を過ごした。
この辺りの自然の素晴らしさのひとつに、巨大な<a href="https://en.wikipedia.org/wiki/Strangler_fig">ストラングラーフィグ</a>がある。
ストラングラーフィグは、他の木の上の枝に種を蒔き、その木をつたわりながら下りていき、最後には土に根を張るのである。
宿主である木を絞め殺しながら、長い年月をかけて幻想的で美しい姿に成長するのだ。</p>

<p><img src="https://martinfowler.com/bliki/images/stranglerApplication/11090068.jpg" alt="" /></p>

<!-- This metaphor struck me as a way of describing a way of doing a rewrite of an important system. Much of my career has involved rewrites of critical systems. You would think such a thing as easy - just make the new one do what the old one did. Yet they are always much more complex than they seem, and overflowing with risk. 
 !-- The big cut-over date looms, the pressure is on. While new features (there are always new features) are liked, old stuff has to remain. Even old bugs often need to be added to the rewritten system. -->

<p>このメタファーは、重要なシステムの書き換えの方法を表すのに使えるんじゃないかと私は思った。
私のキャリアの大半は、クリティカルなシステムの書き換えであった。
書き換えなんて、新しいシステムに古いシステムと同じ動作をさせればいいだけの簡単なものだと思うかもしれない。
だが、書き換えは思ってるよりもずっと難しいし、リスクがいっぱいある。
移行日が不気味に迫る。お尻に火がつく。
新しい機能が求められているのに（新しい機能は常にあるものだ）、
既存の機能もそのまま使えるようにしておかなければならない。
バグもそのまま新しいシステムに残さなきゃならない、なんてこともある。</p>

<!-- An alternative route is to gradually create a new system around the edges of the old, letting it grow slowly over several years until the old system is strangled. Doing this sounds hard, but increasingly I think it's one of those things that isn't tried enough. In particular I've noticed a couple of basic strategies that work well. The fundamental strategy is EventInterception, which can be used to gradually move functionality to the strangler fig and to enable AssetCapture. -->

<p>新しいシステムを古いシステムの周りにじょじょに作っていき、
数年かけてゆっくりと成長させ、
最後には古いシステムを窒息死させるという方法もある。
この方法は難しそうに聞こえるが、私はこう思うようになってきた。
「それって、ちゃんとやってないだけなんじゃねーの？」
私はいくつかの基本戦略がうまくいくのではないかと思っている。
まずは、<a href="/EventInterception">イベントインターセプション</a>。
これは段階的に機能を移行する際に使える。
また、<a href="/AssetCapture">財産確保</a>を可能にしてくれる。</p>

<!-- My colleague Chris Stevenson was involved in a project that did this recently with a great deal of success. They published a first paper on this at XP 2004, and I'm hoping for more that describe more aspects of this project. They aren't yet at the point where the old application is strangled - but they've delivered valuable functionality to the business that gives the team the credibility to go further. And even if they stop now, they have a huge return on investment - which is more than many cut-over rewrites achieve. -->

<p>最近、同僚の<a href="http://www.skizz.biz/">Chris Stevenson</a>があるプロジェクトで非常に大きな成功をあげた。
このプロジェクトについての<a href="http://www.skizz.biz/whitepapers/an-agile-approach-to-a-legacy-system.pdf">最初の論文</a>を<a href="http://www.xp2004.org/">XP 2004</a>で発表していたが、
私はこのプロジェクトの様々な側面についてもっと記述してもらいたいと思っている。
彼らはまだ古いアプリケーションを窒息死させるところまでは出来ていない。
だが、彼らは価値ある機能をビジネスにもたらした。
そのことで彼らは、チームへの信頼性をも獲得した。
プロジェクトが休止している今も、彼らは巨額の投資対効果をもたらしている。
これは、多くの書き換えプロジェクトが成し遂げたものよりも大きい。</p>

<!-- The most important reason to consider a strangler fig application over a cut-over rewrite is reduced risk. A strangler fig can give value steadily and the frequent releases allow you to monitor its progress more carefully. Many people still don't consider a strangler fig since they think it will cost more - I'm not convinced about that. Since you can use shorter release cycles with a strangler fig you can avoid a lot of the unnecessary features that cut over rewrites often generate. -->

<p>ストラングラーフィグアプリケーションが書き換えアプリケーションよりも優れているといえるのは、リスクが減少した点にこそある。
ストラングラーを使えば着実に価値を提供することができ、頻繁なリリースによって、進捗をより注意深く観測することができる。
だが、多くのひとはストラングラーをまだ認めていない。
コストがかかると思っているからだ（私もまだ確信していない）。
しかし、ストラングラーを使って短期リリースを行うことが出来れば、
書き換えで頻発する大量の「不必要な機能」を作らなくても済むだろう。</p>

<!-- There's another important idea here - when designing a new application you should design it in such a way as to make it easier for it to be strangled in the future. Let's face it, all we are doing is writing tomorrow's legacy software today. By making it easy to add a strangler fig in the future, you are enabling the graceful fading away of today's work. -->

<p>重要な考えがもうひとつある。
以上の理由から、新しいアプリケーションを設計する際には、将来的に窒息死しやすいように設計するということだ。
今日作っているシステムは、明日のレガシーシステムである。
そのことから目をそむけてはならない。
将来的に窒息死しやすくすることで、今の仕事から安らかにフェイドアウトすることが出来るのである。</p>

<!-- Further Reading -->

<h3 id="参考資料">参考資料</h3>

<!-- Paul Hammant has a good summary of case studies using this approach. -->
<p>Paul Hammantは、このアプローチを使用した<a href="http://paulhammant.com/2013/07/14/legacy-application-strangulation-case-studies/">ケーススタディのまとめ</a>を提供している。</p>

<!-- Revisions -->
<h3 id="更新履歴">更新履歴</h3>

<!-- Changed URL and name to Strangler Fig Application April 29 2019 -->
<p>2019年4月29日にURLと名称を「ストラングラーフィグアプリケーション」に変更した。</p>

<!-- I thought this post was a nice metaphor, but didn't expect the degree that it would grow in popularity (in recent months it gets over 3000 page views a month). The popularity is nice, but there is a problem. The original post was entitled “Strangler Application”, and when used, the pattern is often referred to as a “strangler”. But its usage often gets separated from its metaphorical root, and takes on a unpleasantly violent connotation. -->
<p>素晴らしいメタファーだとは思っていたが、これほど人気がでるとは思ってもいなかった（この数か月は月間3000ページビューを超えている）。人気がでるのはいいのだが、少し問題が出てきた。元の記事では「ストラングラーアプリケーション」にしていたのだが、パターンとして使われるときに「ストラングラー（絞殺）」と呼ばれることが多くなった。これでは比喩的な表現から切り離され、不快で暴力的な意味合いを帯びてしまう。</p>

<!-- Some people, therefore, have advocated avoiding or changing the name. 
 !-- I don't have any great objection to that, I haven't used the name in my own writing 
 !-- 	since that original posting.  -->
<!-- But the trouble with attempting a rename, is that once a name has lodged itself in a community's mind, it's very hard to dislodge. -->

<p>この名前を回避したり、変更を求める人も出てきた。
それに対して異論はない。私も元の投稿以来、この名前は使っていない。
ただし、一度コミュニティに定着してしまうと、名前を変更するのは非常に難しいという問題がある。</p>

<!-- Recently I thought of a small tweak that might help things a little. 
 !-- If I rename the post to “Strangler Fig Application”, and use the term “Strangler Fig” as much as possible, then hopefully that would reduce the violent connotation 
 !-- 	by reinforcing the metaphorical link that is the whole point of the name. 
 !-- Because it's a small change, maybe it will spread enough to be worthwhile, and it's not much effort, so seems worth a try. -->

<p>最近、微調整すれば事態が少しでも改善されるのではないかと考えた。
記事のタイトルを「ストラングラーフィグアプリケーション」にして、
できるだけ「ストラングラーフィグ」という用語を使うようにすれば、
暴力的な意味合いが軽減され、本来の比喩的な表現であることが伝わるのではないかと思っている。
小さな変更なので、これなら広まるかもしれない。
手間もかからないので、やってみる価値はありそうだ。</p>

  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <h3 class="footer-heading">Martin Fowler's Bliki (ja)</h3>

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Martin Fowler's Bliki (ja)</li>
          <li><a href="mailto:kdmsnr@gmail.com">kdmsnr@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/bliki-ja">
              <span class="icon  icon--github">
                <svg viewBox="0 0 16 16">
                  <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
                </svg>
              </span>

              <span class="username">bliki-ja</span>
            </a>
          </li>
          

          
        </ul>
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text"></p>
      </div>
    </div>
<link href="/pagefind/pagefind-ui.css" rel="stylesheet">
<script src="/pagefind/pagefind-ui.js"></script>
<div id="search"></div>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
    new PagefindUI({ element: "#search", showSubResults: true });
  });
</script>
  </div>

</footer>



<script>
 $('#page-content').toc({
   showAlways:
 });
</script>



  </body>

</html>
