---
title: AlterTradeOffsForLanguageOrientedProgramming
tags: TAGS
---

""※現在、翻訳中です。しばらくお待ちください。

先ほど言語指向プログラミングのトレードオフについて述べました。
言語ワークベンチにはいくつもの考慮すべき新しい点が含まれており、言語指向プログラミングのトレードオフに対して明らかに影響を与えています。

言語ワークベンチによって大きく変わったのは、外部DSLの作成が簡単になった点です。
これでもうパーサを書く必要はありません。
抽象構文を定義する必要はありますが、これは簡単なデータ モデリングで済みます。
また、DSLに使用するパワフルなIDEが手に入りました——エディタの設定に少し時間がかかりますが。
ただし、ジェネレータには手を入れなければなりません。
しかも、以前より作業が簡単になったというわけでもありません。
とはいえ、優れたシンプルなDSL用のジェネレータの構築は、最も簡単なところです。

言語ワークベンチの2番目に大きなプラスは、シンボリック インテグレーションが手に入る点です。
Excelライクな式言語を採用でき、それを専用の言語に組み込めるというのは、素晴らしいことです。
言語のシンボルを変更し、その変更をシステムすべてに反映することができるといえば、
言語ワークベンチの説得力が増します（現在できるかどうかは知りませんが）。

リファクタリングは、言語ワークベンチにおけるもっとも大きな問題です。
言語ワークベンチの使用について説明する際に
「最初にDSLを定義して、それからDSLを使って構築します。」
と言って罠にハマってしまうことは簡単なんですが、
私が以前書いたことを読んでいれば、ここに警笛を鳴らすことができるでしょう。
私は進化的設計の提唱者ですから、ここでは、DSLやDSLに組み込まれるコードも進化させる必要があります。
これは難問です。しかし、Intentionalの開発初期段階からこのことは認識されていました。
成熟した言語ワークベンチでDSLがどれだけ進化していけるかというのは、まだ分かりません——ただ、DSLが進化できないのであれば、それは言語ワークベンチの大きなマイナスとなるでしょう。

中期の視点で言語ワークベンチを見た場合、最も大きな問題はベンダー ロックインのリスクです。
スキーマ、エディタ、ジェネレータのトリオを定義する標準はありません。
言語ワークベンチで定義すると、作成した言語がその言語ワークベンチに結び付けられてしまいます。
異なる言語ワークベンチ間でやり取りするための標準もありません。
つまり、言語ワークベンチを変えると、このトリオをすべて再実装することになるのです。
DSLをやりとりするための特別な保存形を作り出すことになるかもしれません——「交換形(interchange representation)」と呼びます。
いずれにせよ、何らかの打開策がなければ、ベンダーロックインのリスクは残ります。（MDAはこの点についてベンダー非依存だと主張していますが、完全とは言えないでしょう。）

言語ワークベンチをソース生成のツールだと考えれば、問題の軽減になるかもしれません。
たとえば、JavaのXML設定ファイルをすべて管理するために言語ワークベンチを使うということが考えられます。
これならば、最悪、言語ワークベンチを捨てて、生成された設定ファイルのみを使うということもできます。
生成されたファイルの見た目がキレイになるのであれば、自分で書くよりもマシでしょう。
機能を使いこなせば、うまく構成されたJavaコードを生成することもできます。
これでリスクをある程度和らげることができます。
少なくとも、どうしようもなくなる(high and dry)という状況になることはありません。
ベンダー ロックインについては、いろいろと考える必要があるでしょう。

ツールに関してのこういった問題は、ソースファイルがテキストから移行しているために起こっています。他にも同様の問題があります——テキストではうまく解決してきた問題も、抽象形を使う際には考え直さなければなりません。
例えば、バージョン コントロールなどです。
バージョンコントロールには優れたdiff機能やマージ機能などがあり、非常に効果的です。
言語ワークベンチを効果的にするには、抽象形のためのdiff機能、マージ機能が必要となります。
理論的には、これは解決できる問題で、
リアルセマンティックdiffがそれを解決してくれます（
セマンティックdiffでは、シンボルをリネームすると
テキストを使ったときのように結果から推測するだけでなく、
「シンボルをリネームした」というふうに行為として理解してくれます）。
Intentionalはこの問題に関して、優れたソリューションを持っているようです。
しかし、まだ実際に我々が使うことはできません。

ポジティブな面に戻りましょう。
カスタム言語とエディタを組み合わせることで、
非プログラマがDSLを編集できるようになるでしょう。
また、ユーザープログラムとコア プログラミング言語とが同期できなくなる問題については、シンボリック インテグレーションが解決してくれます。
エディタは、COBOL推論をぶち壊してくれる最も強力な唯一のツールとなります——ユーザとのやり取りにあわせてツールをカスタマイズするような場合ならばの話ですが。

ドメイン専門家と開発成果を直接つなげるというこの展望が、
言語ワークベンチにおいてもっとも興味のあるところだと思います。
我々プログラマが生産性を高めるためにツールを使ったとしても、
それは単にアイドルループを最適化しているに過ぎないということを、
何度となく経験していきています。
ほとんどのプロジェクトが見舞われる最も大きな問題は、
開発者と顧客(the business)とのコミュニケーション問題です。
コミュニケーションがうまくいきさえすれば、貧弱な技術を使ってても、進展することができます。
逆に、この関係が壊れれば、Smalltalkでもうまくいきません。

言語ワークベンチプログラミングの提唱者は、ドメイン専門家を巻き込むことについて話しています。
実際、Lispの内部DSLで楽しくプログラミングしている事務職の話を聞いたことがあります。
しかし、ほとんどの場合、こういった取り組みはうまくいっていません。
フォーカスした外部DSLを洗練されたエディタや開発環境と組み合わせれば、
もしかすると、この問題を少しは解決できるかもしれません。
そうなると、メリットは甚大です。
これによりどれだけユーザーを巻き込めるようになるかというのが、
Charles Simonyiの成果の原動力となるように思います。
彼の成果が、Intentional Softwareの決定へとつながっています。

短期の視点で見ると、このツールの限界は成熟度です。
これらのツールがリーディングエッジな開発者{{fn('訳注：アルファギークと同義？')}}にヒットするまで、しばらく時間がかかるでしょう。
しかし、ご存知のように、技術は急速に変化します——ツールや言語の選択を、10年前と比べてみれば分かります。

■関連する記事をご覧ください。：LanguageWorkbenchesAndModelDriven Architecture{{br}}
OMGのMDAが言語ワークベンチとどのように関係しているのかについて述べています。
